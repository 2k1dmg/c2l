<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="alternate icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANTSURBVHgBvVeNTdtAFH7vbCilUptuYFQihUhNzQQJEzSZoGSChgkIEwATNJ0AmICM4ISKWCKoHiGtVDUCn1/v2cRx4nNIcNRPgpzvnd/fvT8jLAnLsgrGVqEOQlaR0AYECwgKIRFhpNYeITkQYFeOf195njdahi8+K7hUsgzcaCPi51jgElDKdGTweOK5rgcvUYAtNl+/PVbLFuSBoDP/j3Hiec5oaQUiqzevFdGCNYAAPEkPBzpviPmNYrlsr1M4g3kxz2KxbGtoU6zb8nnoPBF7IIzyOeH8gvp/Gf2uCJUZRNRRK2e6FXnCsuxCSgEOuJTlBO3h4KZxP+jvKGbNWBFOu5AxdeO/aO9JMBwOb/vv792bJlBwNKsXWOYbeZx4jlxv4ubPlBG+2L+7c2ILLFtpPh4XslLLKtkWjGGUjHjeMzFI8fbpYYf5mPzAea5j+GjATOp4Tsg4s8B4ruPBkjDEBnuhKdgqBPyiPQSyBjlhZgS0qqZ1jgVhjGVddyCMWDC6kBP+FjgZQaxKu6wLFQU10GvQXsWlWeBrQwqaeqqoClXjP+lIciyuYE0Yuj+mWZIACrI5Da15Arssq3bngAdpQZZYpcPlApHOoIKA/wVEraFCezdhZbbX6xkCW7M7Yg94uvPGtqzCmrBbsmtaAoInKICelkY5B5EECOWhdj9AR0TNRKtCbXevkluJ4l7la1alZdlCbhmXujh4wuluuXIMOYSrlD7LonOtCbvhh71KRy0iLQlOwukW8HTSnrkuKFedEYne0HW6sEho0bbBDKqEcJgReJEYws6922s+teNpywzrtqQjuW10zYfgOs0EL4eDXkPHdLf88UJdeB2WgE9ih0t9WAd4oQSfh+yVPmjgN+77fiAaqUZC8jyTa0DZtCQLJWvSZ+JCJF+JdkIYj2ctPiRJHPALPF4p5VphXc/AIlpCuCf/ivbkeW4otdXMFsRzIfq+mohuHVgBKnNooXBlULLLpr4LeCwPyLyIA1B94QhCJyDxS2Dw7m7QP3+JAmEgo2goe2YMyvgwmfVEEsNBH1dVQGf5BNpmxAd5EuaUhJzg+FF3vp813CzshkO33+Z0UUy+w7LgohaO5tjhd5UhrbXMFtwdeXx/9py6vlU66T98qp4a9HCubgAAAABJRU5ErkJggg==">
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNiAwQzcuMTYgMCAwIDcuMTYgMCAxNkMwIDIzLjA4IDQuNTggMjkuMDYgMTAuOTQgMzEuMThDMTEuNzQgMzEuMzIgMTIuMDQgMzAuODQgMTIuMDQgMzAuNDJDMTIuMDQgMzAuMDQgMTIuMDIgMjguNzggMTIuMDIgMjcuNDRDOCAyOC4xOCA2Ljk2IDI2LjQ2IDYuNjQgMjUuNTZDNi40NiAyNS4xIDUuNjggMjMuNjggNSAyMy4zQzQuNDQgMjMgMy42NCAyMi4yNiA0Ljk4IDIyLjI0QzYuMjQgMjIuMjIgNy4xNCAyMy40IDcuNDQgMjMuODhDOC44OCAyNi4zIDExLjE4IDI1LjYyIDEyLjEgMjUuMkMxMi4yNCAyNC4xNiAxMi42NiAyMy40NiAxMy4xMiAyMy4wNkM5LjU2IDIyLjY2IDUuODQgMjEuMjggNS44NCAxNS4xNkM1Ljg0IDEzLjQyIDYuNDYgMTEuOTggNy40OCAxMC44NkM3LjMyIDEwLjQ2IDYuNzYgOC44MiA3LjY0IDYuNjJDNy42NCA2LjYyIDguOTggNi4yIDEyLjA0IDguMjZDMTMuMzIgNy45IDE0LjY4IDcuNzIgMTYuMDQgNy43MkMxNy40IDcuNzIgMTguNzYgNy45IDIwLjA0IDguMjZDMjMuMSA2LjE4IDI0LjQ0IDYuNjIgMjQuNDQgNi42MkMyNS4zMiA4LjgyIDI0Ljc2IDEwLjQ2IDI0LjYgMTAuODZDMjUuNjIgMTEuOTggMjYuMjQgMTMuNCAyNi4yNCAxNS4xNkMyNi4yNCAyMS4zIDIyLjUgMjIuNjYgMTguOTQgMjMuMDZDMTkuNTIgMjMuNTYgMjAuMDIgMjQuNTIgMjAuMDIgMjYuMDJDMjAuMDIgMjguMTYgMjAgMjkuODggMjAgMzAuNDJDMjAgMzAuODQgMjAuMyAzMS4zNCAyMS4xIDMxLjE4QzI3LjQyIDI5LjA2IDMyIDIzLjA2IDMyIDE2QzMyIDcuMTYgMjQuODQgMCAxNiAwVjBaIiBmaWxsPSIjMjQyOTJFIi8+Cjwvc3ZnPgo=">
<title>Латинизатор кириллицы русского алфавита [2k1dmg/c2l]</title>
<style>
#container {
	display: flex;
	justify-content: space-between;
}
#intext, #outtext {
	min-height: 300px;
	width: calc(50% - 28px);
	padding: 10px;
	/*margin-top: 10px;*/
	word-wrap: break-word;
}
#intext {
	outline: 0;
	border: 1px solid #d9d9d9;
	font-family: serif;
	font-size: 16px;
}
#intext:hover {
	box-shadow: 0 1px 3px rgba(0,0,0,.3) inset;
}
#intext:focus {
	border-color: #4d90fe;
}
#outtext {
	background-color: whitesmoke;
	overflow-y: scroll;
	height: 400px;
}
@media only screen and (max-width: 768px) {
	#container {
		display: block;
	}
	#intext, #outtext {
		width: calc(100% - 22px);
		min-height: 150px;
	}
	#outtext {
		margin-top: 28pt;
		height: 200px;
	}
	#copytext {
		position: relative !important;
		top: 0 !important;
		right: 0 !important;
		margin-top: 4pt;
		float: right;
	}
}
#gitlink {
	font-weight: bold;
	font-family: monospace;
	text-decoration: none;
	color: #555;
	position: absolute;
	top: 5pt;
	right: 5pt;
}
#gitlink:hover {
	color: #222;
}
#gitlink:active {
	color: #4169e1; 
}
input,
select {
	margin-bottom: 8px;
}
#options {
	height: 17pt;
	max-width: 300px;
}
#copytext {
  position: absolute;
  top: 29pt;
  right: 5pt;
}
</style>
<script>
'use strict';
var translitWordMap = [
	['Основной', 'Р 8.2+ 3.8 (без жчшщь)'],
	['Общий (и Локальный)', 'Р 2 ASCII 2в+ (жчшщь-ёюяь)'],
	['Зеркальный', 'Т 5.2 (й-j, ы-y, х-h, ь-ì, ъ-ĵ)'],
	['Основной с мягкими согласными', 'Р 8.2+ 3.8.6.1 ([тлнрсз]ь)'],
	['Основной с мягкими согласными еёюя', 'Р 8.2+ 4.1.1 ([тлнрсз]ь)'],
	['Основной (Общий+)', 'Р 8.5 (жчшщь-ёюяь)'],
	['Основной ë (Общий+)', 'Р 8.5а (жчшщь-ёюяь)'],
	['? Общий', 'Р 2 ASCII 2б (й-y, ы-y, х-kh, щ-sch, ъ[оуаыиэ])'],
	['? Локальный', 'ASCII 6а (й-j, ы-y, х-ch, ш-x, ъ[оуаыиэ])'],
	['? Латиница без щ', 'Р 8.3 (без ъ и щ)'],
	['? Латиница без щ ASCII', 'Р 2 ASCII 8.3 (без ъ и щ)']
];
var translitWord = {
'Основной': {},
'Общий (и Локальный)': {},
'Зеркальный': {},
'Основной с мягкими согласными': {},
'Основной с мягкими согласными еёюя': {},
'Основной (Общий+)': {},
'Основной ë (Общий+)': {},
'? Общий': {},
'? Локальный': {},
'? Латиница без щ': {},
'? Латиница без щ ASCII': {},
'ASCII 1 (й-y, ы-iw, х-ch, ш-sx)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщ])([юя])/g, function(found,p1,p2,offset,s) {
		return p1+['uh','ah']['юя'.indexOf(p2)];
	})
	.replace(/ъ([юя])/g, '$1')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ej','gz','z','i','y','k','l','m','n','o','p','r','s','t','u','f','ch','cz','c','sx','sw','q','iw','j','ew','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'ASCII 1.1 (й-y, ы-iq, х-ch, ш-sx)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщ])([юя])/g, function(found,p1,p2,offset,s) {
		return p1+['uh','ah']['юя'.indexOf(p2)];
	})
	.replace(/ъ([юя])/g, '$1')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ej','gz','z','i','y','k','l','m','n','o','p','r','s','t','u','f','ch','cz','c','sx','sw','q','iq','j','eq','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'ASCII 2 (й-y, ы-iw, х-x, ш-sh)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщ])([юя])/g, function(found,p1,p2,offset,s) {
		return p1+['uh','ah']['юя'.indexOf(p2)];
	})
	.replace(/ъ([юя])/g, '$1')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ej','gz','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','cz','c','sh','sw','q','iw','j','ew','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'ASCII 2.1 (й-y, ы-iq, х-x, ш-sh)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщ])([юя])/g, function(found,p1,p2,offset,s) {
		return p1+['uh','ah']['юя'.indexOf(p2)];
	})
	.replace(/ъ([юя])/g, '$1')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ej','gz','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','cz','c','sh','sw','q','iq','j','eq','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'ASCII 3 (й-y, ы-y, х-kh, ш-sh)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','io','iu','ia','eh']['еёюяэ'.indexOf(p2)];
	})
	.replace(/ъ([еёюя])/g, function(found,p1,offset,s) {
		return 'y'+'eoua'['еёюя'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','zh','z','i','y','k','l','m','n','o','p','r','s','t','u','f','kh','c','ch','sh','shch','','y','i','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'ASCII 4 (й-y, ы-iw, х-ch, ш-sx)': function(text) {
	return text
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','oh','uh','ah','we']['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','gz','z','i','y','k','l','m','n','o','p','r','s','t','u','f','ch','cz','c','sx','sw','','iw','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'ASCII 5 (й-y, ы-iw, х-x, ш-sw)': function(text) {
	return text
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','oh','uh','ah','we']['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','gz','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','cz','c','sw','sx','','iw','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'ASCII 6 (й-j, ы-y, х-ch, ш-x)': function(text) {
	return text
	.replace(/ь([оуаыиэеёюя])/g, function(found,p1,offset,s) {
		return 'ь'+['wo','wu','wa','wy','wi','we','ie','io','iu','ia']['оуаыиэеёюя'.indexOf(p1)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','oh','uh','ah','we']['еёюяэ'.indexOf(p2)];
	})
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return 'w'+'ouayie'['оуаыиэ'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','gz','z','i','j','k','l','m','n','o','p','r','s','t','u','f','ch','q','c','x','xh','','y','j','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'ASCII 6а (й-j, ы-y, х-ch, ш-x, ъ[оуаыиэ])': function(text) {
	return text
	.replace(/ь([оуаыиэеёюя])/g, function(found,p1,offset,s) {
		var text = ['o','u','a','y','i','e','ie','io','iu','ia']['оуаыиэеёюя'.indexOf(p1)];
		return 'ь'+(text.length == 2 ? text : '\''+text);
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','oh','uh','ah','we']['еёюяэ'.indexOf(p2)];
	})
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return '\''+'ouayie'['оуаыиэ'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','gz','z','i','j','k','l','m','n','o','p','r','s','t','u','f','ch','q','c','x','xh','','y','j','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'ASCII 6.1 (й-j, ы-y, х-ch, ш-x)': function(text) {
	return text
	.replace(/([жцчшщ])([ёюяь])/g, function(found,p1,p2,offset,s) {
		return p1+'ouaъ'['ёюяь'.indexOf(p2)];
	})
	.replace(/ь([еоуа])/g, function(found,p1,offset,s) {
		return 'ь'+['ie','ho','hu','ha']['еоуа'.indexOf(p1)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','oh','uh','ah','we']['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','gz','z','i','j','k','l','m','n','o','p','r','s','t','u','f','ch','q','c','x','xh','','y','j','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 1 (й-y, ы-ì, ь-j)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ś','ĝ','ì','j','è','ų','ą']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 1.1 (й-y, ы-ì, ь-j)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ś','ĝ','ì','j','è','ũ','ã']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 2 (й-j, ы-y, ь-ĵ)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ś','ġ','y','ĵ','ė','ũ','ã']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 3 (й-y, ы-ī, ь-j)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ś','ġ','ī','j','ė','ũ','ã']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 3.1 (й-y, ы-ī, ь-j)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ś','q','ī','j','ė','ũ','ã']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 4 (й-y, ы-î, ь-j, х-h)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','ğ','î','j','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 4.1 (й-y, ы-î, ь-j, х-x)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ŝ','ğ','î','j','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 5 (й-j, ы-y, х-h, ь-ì, ъ-ĵ)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 5.1 (й-j, ы-y, х-h, ь-ì, ъ-ĵ)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ē','ë','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','ĵ','y','ì','e','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 5.2 (й-j, ы-y, х-h, ь-ì, ъ-ĵ)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 5.3 (й-j, ы-y, х-h, ь-ì, ъ-ĵ)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ş','ĵ','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Т 6 (й-y, ы-ȳ, х-h, ь-ì, ъ-ŷ)': function(text) {
	return text
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ż','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ç','ş','ħ','ŷ','ȳ','ì','ê','ŭ','ă']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 1 (й-y, ы-ì, х-x)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, function(found,p1,offset,s) {
		return 'y'+'eoua'['еёюя'.indexOf(p1)];
	})
	.replace(/([йжцчшщ])([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+'eoua'['еёюя'.indexOf(p2)];
	})
	.replace(/([жцчшщ])ь(и)/g, '$1y$2')
	.replace(/([жцчшщ])ь/g, '$1')
	.replace(/([бвгдзклмнпрстфх])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eöüäè'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ś','','ì','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 1 ASCII (й-y, ы-i, х-x)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, function(found,p1,offset,s) {
		return 'y'+'eoua'['еёюя'.indexOf(p1)];
	})
	.replace(/([йжцчшщ])([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+'eoua'['еёюя'.indexOf(p2)];
	})
	.replace(/([жцчшщ])ь(и)/g, '$1y$2')
	.replace(/([жцчшщ])ь/g, '$1')
	.replace(/([бвгдзклмнпрстфх])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eouae'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','z','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','c','s','s','','i','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2 (й-y, ы-ì, х-x, щ-ś)': function(text) {
	return text
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eöüäè'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ś','','ì','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2а (й-y, ы-ì, х-x, щ-ś)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eŏŭăè'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eŏŭăè'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ś','','ì','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2б (й-y, ы-î, х-h/ch, щ-šč)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщиы])х/g, '$1ch')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','šč','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2ба (й-y, ы-î, х-h/ch, щ-šc)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщиы])х/g, '$1ch')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','šc','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2баа (й-y, ы-î, х-h/kh, щ-šc)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])х/g, '$1kh')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','šc','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2баб (й-y, ы-î, х-h/kh, щ-šh)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])х/g, '$1kh')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','šh','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2бав (й-y, ы-î, х-h/kh, щ-ŝ)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])х/g, '$1kh')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2в (й-y, ы-î, х-x, щ-ŝ)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ŝ','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2ва (й-y, ы-î, х-h, щ-ŝ)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2ваа (й-y, ы-î, х-h, щ-ŝ, ďľńŕśťź)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([длнрстз])ь/g, function(found,p1,offset,s) {
		return 'ďľńŕśťź'['длнрстз'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2вб (й-y, ы-î, х-h/ch, щ-ŝ)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщиы])х/g, '$1ch')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2вба (й-y, ы-î, х-h/ch, щ-ŝ, ďľńŕśťź)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщиы])х/g, '$1ch')
	.replace(/([длнрстз])ь/g, function(found,p1,offset,s) {
		return 'ďľńŕśťź'['длнрстз'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2г (й-y, ы-î, х-x, щ-ħ, ъ[оуаыиэ])': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return '\''+'ouayiě'['оуаыиэ'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ż','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','ç','ş','ħ','','î','ì','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2га (й-y, ы-ȳ, х-x, щ-ħ, ъ[оуаыиэ])': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eŏŭăê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eŏŭăê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return '\''+'ouayiê'['оуаыиэ'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ż','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','ç','ş','ħ','','ȳ','ì','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2д (й-y, ы-ỿ, х-x, щ-ṡ)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ṡ','','ỿ','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2е (й-y, ы-ỿ, х-x, щ-ħ)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщй])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ħ','','ỿ','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2.1 (й-y, ы-ì, х-x, щ-ś)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, function(found,p1,offset,s) {
		return 'y'+'eoua'['еёюя'.indexOf(p1)];
	})
	.replace(/([йжцчшщ])([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+'eoua'['еёюя'.indexOf(p2)];
	})
	.replace(/([жцчшщ])ь/g, '$1')
	.replace(/([бвгдзклмнпрстфх])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eöüäè'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ś','','ì','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2 ASCII (й-y, ы-y, х-kh)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, function(found,p1,offset,s) {
		return 'y'+'eoua'['еёюя'.indexOf(p1)];
	})
	.replace(/([йжцчшщ])([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+'eoua'['еёюя'.indexOf(p2)];
	})
	.replace(/([жцчшщ])ь/g, '$1')
	.replace(/ь$/g, '')
	.replace(/([бвгдзклмнпрстфх])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','io','iu','ia','eh']['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','zh','z','i','y','k','l','m','n','o','p','r','s','t','u','f','kh','c','ch','sh','shch','','y','i','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2 ASCII 2 (й-y, ы-y, х-kh, щ-sch)': function(text) {
	return text
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['e','io','iu','ia']['еёюя'.indexOf(p2)];
	})
	.replace(/(ы)([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['ie','io','iu','ia']['еёюя'.indexOf(p2)];
	})
	.replace(/ый/g, 'y')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','zh','z','i','y','k','l','m','n','o','p','r','s','t','u','f','kh','c','ch','sh','sch','','y','','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2 ASCII 2а (й-y, ы-y, х-kh, щ-shch)': function(text) {
	return text
	.replace(/([бвгдзклмнпрстфхжцчшщи])([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['e','yo','yu','ya']['еёюя'.indexOf(p2)];
	})
	.replace(/(ы)([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['ie','io','iu','ia']['еёюя'.indexOf(p2)];
	})
	.replace(/ый/g, 'y')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','zh','z','i','y','k','l','m','n','o','p','r','s','t','u','f','kh','c','ch','sh','shch','','y','','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2 ASCII 2б (й-y, ы-y, х-kh, щ-sch, ъ[оуаыиэ])': function(text) {
	return text
	.replace(/([жчшщ]ь)([ие])/g, function(found,p1,p2,offset,s) {
		return p1+'y'+'ie'['ие'.indexOf(p2)];
	})
	.replace(/([жчшщ])([ёюяь])/g, function(found,p1,p2,offset,s) {
		return p1+['o','u','a','']['ёюяь'.indexOf(p2)];
	})
	.replace(/([эоуаеёюя])й(.+)/g, '$1i$2')
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['e','yo','yu','ya']['еёюя'.indexOf(p2)];
	})
	.replace(/(ы)([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['e','io','iu','ia']['еёюя'.indexOf(p2)];
	})
	.replace(/(й)([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['ie','io','iu','ia']['еёюя'.indexOf(p2)];
	})
	.replace(/ый/g, 'y')
	.replace(/ьи/g, 'yi')
	/*
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return '\''+'ouayie'['оуаыиэ'.indexOf(p1)];
	})*/
	.replace(/([ъь])([оуаыиэ])/g, function(found,p1,p2,offset,s) {
		return ['\'','y']['ъь'.indexOf(p1)]+'ouayie'['оуаыиэ'.indexOf(p2)];
	})
	.replace(/кс/g, 'x')
	.replace(/дж/g, 'j')
	//.replace(/([эоуа])й(.+)/g, '$1i$2')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','zh','z','i','y','k','l','m','n','o','p','r','s','t','u','f','kh','c','ch','sh','shch','','y','','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2 ASCII 2в (й-y, ы-y, х-kh, щ-sc, ь-i/e, ъ[оуаыиэ])': function(text) {
	return text
	//.replace(/е$/g, 'ew')
	.replace(/(и)([юя])$/g, (found,p1,p2) => p1+'ua'['юя'.indexOf(p2)])
	.replace(/([бвгдзклмнпрстфхжцчшщи])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','yo','yu','ya','e\'']['еёюяэ'.indexOf(p2)];
	})
	.replace(/(ы)([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','io','iu','ia','e\'']['еёюяэ'.indexOf(p2)];
	})
	.replace(/(й)([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['ie','io','iu','ia']['еёюя'.indexOf(p2)];
	})
	//.replace(/ый/g, 'y')
	.replace(/([ъь])([оуаыиэ])/g, function(found,p1,p2,offset,s) {
		return p1+'\''+'ouayie'['оуаыиэ'.indexOf(p2)];
	})
	.replace(/ь$/g, 'e')
	//.replace(/^э/g, 'e')
	.replace(/([бвгджзклмнпрстфхцчшщйь])х/g, '$1kh')
	.replace(/(с)ц/g, '$1tz')
	/*.replace(/([бвгджзклмнпрстфхцчшщйь])([хц])/g, function(found,p1,p2,offset,s) {
		return p1+['kh','tz']['хц'.indexOf(p2)];
	})*/
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','zh','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ch','sh','sc','','y','i','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2 ASCII 2в+ (жчшщь-ёюяь)': function(text) {
	return text
	/*
	.replace(/([жчшщ]ь)([ие])/g, function(found,p1,p2,offset,s) {
		return p1+'y'+'ie'['ие'.indexOf(p2)];
	})
	.replace(/([жчшщ])([ёюяь])/g, function(found,p1,p2,offset,s) {
		return p1+['o','u','a','']['ёюяь'.indexOf(p2)];
	})
	*/
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1kh')
	//.replace(/е$/g, 'ew')
	.replace(/(и)([юя])$/g, (found,p1,p2) => p1+'ua'['юя'.indexOf(p2)])
	.replace(/([эоуаеёюя])й(.+)/g, '$1i$2')
	.replace(/([бвгдзклмнпрстфхжцчшщи])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','yo','yu','ya','eu']['еёюяэ'.indexOf(p2)];
	})
	.replace(/(ы)([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','io','iu','ia','eu']['еёюяэ'.indexOf(p2)];
	})
	.replace(/(й)([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['ie','io','iu','ia']['еёюя'.indexOf(p2)];
	})
	//.replace(/ый/g, 'y')
	.replace(/ьи/g, 'iyi')
	/*
	.replace(/([ъь])([оуаыиэ])/g, function(found,p1,p2,offset,s) {
		return p1+'\''+'ouayie'['оуаыиэ'.indexOf(p2)];
	})
	*/
	.replace(/([ъь])([оуаыиэ])/g, function(found,p1,p2,offset,s) {
		return ['\'','iy']['ъь'.indexOf(p1)]+'ouayie'['оуаыиэ'.indexOf(p2)];
	})
	.replace(/ь$/g, 'e')
	//.replace(/^э/g, 'e')
	//.replace(/(с)ц/g, '$1tz')
	/*.replace(/([бвгджзклмнпрстфхцчшщйь])([хц])/g, function(found,p1,p2,offset,s) {
		return p1+['kh','tz']['хц'.indexOf(p2)];
	})*/
	.replace(/кс/g, 'x')
	.replace(/дж/g, 'j')
	//.replace(/([эоуа])й(.+)/g, '$1i$2')
	//.replace(/ый/g, 'iuy')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','zh','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ch','sh','shh','','y','i','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2 ASCII 2г (ё-e/ye, й-y, ы-y, х-kh, щ-sc, ь-i/e, ъ[оуаыиэ])': function(text) {
	return text
	.replace(/(и)([юя])$/g, (found,p1,p2) => p1+'ua'['юя'.indexOf(p2)])
	.replace(/([бвгдзклмнпрстфхжцчшщи])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','e','yu','ya','e\'']['еёюяэ'.indexOf(p2)];
	})
	.replace(/(ы)([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','ie','iu','ia','e\'']['еёюяэ'.indexOf(p2)];
	})
	.replace(/(й)([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['ie','io','iu','ia']['еёюя'.indexOf(p2)];
	})
	//.replace(/ый/g, 'wy')
	.replace(/([ъь])([оуаыиэ])/g, function(found,p1,p2,offset,s) {
		return p1+'\''+'ouayie'['оуаыиэ'.indexOf(p2)];
	})
	.replace(/ь$/g, 'e')
	.replace(/([бвгджзклмнпрстфхцчшщйь])х/g, '$1kh')
	.replace(/(с)ц/g, '$1tz')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','ye','zh','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ch','sh','sc','','y','i','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 2 ASCII 8.3 (без ъ и щ)': function(text) {
	return text
	.replace(/(щ)([иеёюяьоуа])/g, function(found,p1,p2,offset,s) {
		return 'sh'+['i','e','yo','yu','ya','h','io','iu','ia']['иеёюяьоуа'.indexOf(p2)];
	})
	.replace(/([жчшщ]ь)([ие])/g, function(found,p1,p2,offset,s) {
		return p1+'y'+'ie'['ие'.indexOf(p2)];
	})
	.replace(/([жчшщ])([ёюяь])/g, function(found,p1,p2,offset,s) {
		return p1+['o','u','a','']['ёюяь'.indexOf(p2)];
	})
	.replace(/(и)([юя])$/g, (found,p1,p2) => p1+'ua'['юя'.indexOf(p2)])
	.replace(/ше/g, 'sheu')
	.replace(/([эоуаеёюя])й(.+)/g, '$1i$2')
	.replace(/([бвгдзклмнпрстфхжцчшщи])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','yo','yu','ya','eu']['еёюяэ'.indexOf(p2)];
	})
	.replace(/(ы)([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+['e','io','iu','ia','eu']['еёюяэ'.indexOf(p2)];
	})
	.replace(/(й)([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['ie','io','iu','ia']['еёюя'.indexOf(p2)];
	})
	.replace(/ьи/g, 'iyi')
	.replace(/([ъь])([оуаыиэ])/g, function(found,p1,p2,offset,s) {
		return ['\'','iy']['ъь'.indexOf(p1)]+'ouayie'['оуаыиэ'.indexOf(p2)];
	})
	.replace(/ь$/g, 'e')
	.replace(/([бвгджзклмнпрстфхцчшщйь])х/g, '$1kh')
	
	.replace(/ши/g, 'shy')
	
	.replace(/кс/g, 'x')
	.replace(/дж/g, 'j')
	//.replace(/([эоуа])й(.+)/g, '$1i$2')
	.replace(/ый/g, 'iuy')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','zh','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ch','sh','shh','','y','i','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 3 (х-h/ç)': function(text) {
	return text
	.replace(/([цчдлнрсштзщв])([ёюяь])/g, function(found,p1,p2,offset,s) {
		return 'ćĉďľńŕśŝťźĥŵ'['цчдлнрсштзщв'.indexOf(p1)]+['o','u','a','']['ёюяь'.indexOf(p2)];
	})
	.replace(/([бгжкмптфх])([ёюя])/g, function(found,p1,p2,offset,s) {
		return p1+'j'+'oua'['ёюя'.indexOf(p2)];
	})
	.replace(/([еёюяэоуаиыьoua])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eŏŭăè'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщćĉďľńŕśŝťźĥŵ])([хэе])/g, function(found,p1,p2,offset,s) {
		return p1+'çèe'['хэе'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','ì','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 3.1 (х-h/ç)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eŏŭăè'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eŏŭăè'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([цчдлнрсштзщв])(ь)/g, function(found,p1,p2,offset,s) {
		return 'ćĉďľńŕśŝťźĥŵ'['цчдлнрсштзщв'.indexOf(p1)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщćĉďľńŕśŝťźĥŵ])([хэе])/g, function(found,p1,p2,offset,s) {
		return p1+'çèe'['хэе'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','ì','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 3.1а (х-h/ç)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eŏŭăè'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eŏŭăè'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([цчдлнрсштзщв])(ь)/g, function(found,p1,p2,offset,s) {
		return 'ćĉďľńŕśŝťźĥŵ'['цчдлнрсштзщв'.indexOf(p1)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщćĉďľńŕśŝťźĥŵ])([хэе])/g, function(found,p1,p2,offset,s) {
		return p1+'çèe'['хэе'.indexOf(p2)];
	})
	.replace(/(\p{L}+)ый/gu, '$1ŷ')
	.replace(/(\p{L}+)ий/gu, '$1î')
	.replace(/(\p{L}+)ей|eй/gu, '$1ê')
	.replace(/(\p{L}+)ой/gu, '$1ô')
	.replace(/(\p{L}+)ай/gu, '$1â')
	.replace(/(\p{L}+)уй/gu, '$1û')
	.replace(/[а-яё]/gu, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','ì','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 4 (й-y, ы-î, х-x, щ-ħ)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ħ','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 5 (й-y, ы-î, х-x, щ-ċ)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ċ','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 6 (й-y, ы-î, х-x, щ-ĉ)': function(text) {
	return text
	.replace(/([еёюяэоуаиыь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщ])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāê'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','č','š','ĉ','','î','j','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 7 (й-j, ы-y, х-h/ch, щ-ħ, ъ[оуаыиэ])': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/ь([еоуа])/g, function(found,p1,offset,s) {
		return 'ь'+['ie','\'o','\'u','\'a']['еоуа'.indexOf(p1)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	/*.replace(/ь([еёюяоуаэ])/g, function(found,p1,offset,s) {
		return 'ь'+['ie','io','iu','ia','ho','hu','ha','hě']['еёюяоуаэ'.indexOf(p1)];
	})*/
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return '\''+'ouayiě'['оуаыиэ'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','y','j','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 7а (й-j, ы-y, х-h/ch, щ-ħ, ďľńŕśťź, ъ[оуаыиэ])': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([^длнрстз]ь)([еоуа])/g, function(found,p1,p2,offset,s) {
		return p1+['ie','\'o','\'u','\'a']['еоуа'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	/*.replace(/ь([еёюяоуаэ])/g, function(found,p1,offset,s) {
		return 'ь'+['ie','io','iu','ia','ho','hu','ha','hě']['еёюяоуаэ'.indexOf(p1)];
	})*/
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([длнрстз])ь/g, function(found,p1,offset,s) {
		return 'ďľńŕśťź'['длнрстз'.indexOf(p1)];
	})
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return '\''+'ouayiě'['оуаыиэ'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','y','j','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8 (й-j, ы-y, х-h/ch, щ-ħ)': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.1 (й-j, ы-y, х-h/ch, щ-ħ, ё-ë)': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eëūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eëūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2 (й-j, ы-y, х-h/ch, щ-ħ, ъ[оуаыиэ])': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return '\''+'ouayiě'['оуаыиэ'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2+ (жчшщь-ёюяь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, function(found,p1,offset,s) {
		return ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)];
	})
	.replace(/ъ([еёюя])/g, function(found,p1,offset,s) {
		return ['je','jo','ju','ja']['еёюя'.indexOf(p1)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([жчшщ]ь)([иеёюя])/g, function(found,p1,p2,offset,s) {
		return p1+'j'+'ieoua'['иеёюя'.indexOf(p2)];
	})
	.replace(/([жчшщ])([ёюяь])/g, function(found,p1,p2,offset,s) {
		return p1+['o','u','a','']['ёюяь'.indexOf(p2)];
	})
	/*
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	*/
	/*
	.replace(/([еёюяэоуаиы])([еёюяэ]+)/g, function(found,p1,p2,offset,s) {
		var res = p2;
		while(/[еёюяэ]/.test(res)){
			res = res.replace(/[еёюяэ]/g, function(f) {
				return 'eōūāě'['еёюяэ'.indexOf(f)];
			});
		}
		return p1 + res;
	})
	*/
	/*
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	*/
	/*
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return '\''+'ouayiě'['оуаыиэ'.indexOf(p1)];
	})
	*/
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ō','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2+ 2 (жчшщь)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([жчшщ])(ь)?([иеёюя])?/g, (found,p1,p2,p3) => p1+(p2=='ь'&&p3?'j':'')+(p3?'ieoua'['иеёюя'.indexOf(p3)]:''))
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэ])/g, (found,p1,p2) => p1+['e','ìo','ìu','ìa','ě']['еёюяэ'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','ĵ','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3 (без жчшщь)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэ])/g, (found,p1,p2) => p1+['e','ìo','ìu','ìa','ě']['еёюяэ'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','ĵ','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.1 (без жчшщь)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэ])/g, (found,p1,p2) => p1+['e','ìo','ìu','ìa','ě']['еёюяэ'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','je','jo','ź','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ć','ś','ŝ','ĵ','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.2 (без жчшщь)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэ])/g, (found,p1,p2) => p1+['e','ìo','ìu','ìa','ě']['еёюяэ'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','je','jo','gź','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','cź','sź','ŝ','ĵ','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.3 (без жчшщь)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэ])/g, (found,p1,p2) => p1+['e','ìo','ìu','ìa','ě']['еёюяэ'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','je','jo','gź','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','cź','sź','ś','ĵ','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.4 (без жчшщь)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэ])/g, (found,p1,p2) => p1+['e','ìo','ìu','ìa','ě']['еёюяэ'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','je','jo','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','cź','sź','ŝ','ĵ','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.5 (без жчшщь)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэ])/g, (found,p1,p2) => p1+['e','ło','łu','ła','ě']['еёюяэ'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','je','jo','ź','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ć','ś','ŝ','ĵ','y','ł','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.6 (без жчшщь)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэ])/g, (found,p1,p2) => p1+['e','ìo','ìu','ìa','ě']['еёюяэ'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ś','ĵ','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.7 (без жчшщь)': function(text) {
	return text
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэ])/g, (found,p1,p2) => p1+['e','ìo','ìu','ìa','ě']['еёюяэ'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','ĵ','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.8 (без жчшщь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.8.1 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.8.2 ([тлнрсз]ь чш)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/с(з)/g, 'sĵ$1')
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','cz','sz','ŝ','ĵ','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.8.3 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ç','ş','ŝ','ĵ','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.8.4 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ħ','ĵ','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.8.5 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ċ','ĵ','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.8.6 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ş','ĵ','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.8.6.1 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь([еёюя])?/g, (found,p1,p2) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)]+(p2?'j'+'eoua'['еёюя]'.indexOf(p2)]:''))
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ş','ĵ','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.8.7 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/([еыиаuо])й$/g, (found,p1) => 'êŷîâûô'['еыиауо'.indexOf(p1)])
	.replace(/([eoua])й$/g, (found,p1) => 'êôûâ'['eoua'.indexOf(p1)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ş','ĵ','y','ì','ė','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.8.* ([тдлнрсз]ь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тдлнрсз])ь(?![еёюя])/g, (found,p1) => 'ťďĺńŕśź'['тдлнрсз'.indexOf(p1)])
	//.replace(/([ťďĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.9 (без жчшщь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ë','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ŝ','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.10 (без жчшщь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','ç','c','x','ŝ','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.11 (без жчшщь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','q','c','x','w','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 3.12 (без жчшщь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ş','ĵ','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.2+ 4 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ş','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2+ 4.1 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ş','ĵ','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2+ 4.1.1 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь([еёюя])?/g, (found,p1,p2) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)]+(p2?'j'+'eoua'['еёюя]'.indexOf(p2)]:''))
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ş','ĵ','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2+ 4.2 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ż','z','i','ŷ','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ş','î','y','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2+ 4.3 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ş','ĵ','y','ì','ê','ŭ','ă']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2+ 4.4 ([тлнрсз]ь)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ż','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','ĉ','ŝ','ş','ĵ','y','ì','ė','ŭ','ă']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2+ 4.* ([тлнрсз]ь)': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([тлнрсз])ь(?![еёюя])/g, (found,p1) => 'ćĺńŕśź'['тлнрсз'.indexOf(p1)])
	//.replace(/([ćĺńŕśź])([еёюя])/g, (found,p1,p2) => p1+'j'+'eoua'['еёюя]'.indexOf(p2)])
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','e','ë','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ş','q','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2а (й-j, ы-y, х-h/ch, щ-ħ, ъ[оуаыиэ])': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return '\''+'ouayiě'['оуаыиэ'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','ż','č','š','ħ','','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.2б (й-j, ы-y, х-h/ch, щ-ħ, ъ[оуаыиэ])': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/ъ([оуаыиэ])/g, function(found,p1,offset,s) {
		return '\''+'ouayiě'['оуаыиэ'.indexOf(p1)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','y','ɩ','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8а (й-j, ы-y, х-h/ch, щ-ħ, ďľńŕśťź)': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([длнрстз])ь/g, function(found,p1,offset,s) {
		return 'ďľńŕśťź'['длнрстз'.indexOf(p1)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщийьďľńŕśťź])х/g, '$1ch')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8аб (й-j, ы-y, х-h/ch, щ-ħ, ďľńŕśťź)': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([длнрстз])ь/g, function(found,p1,offset,s) {
		return 'ďľńŕśťź'['длнрстз'.indexOf(p1)];
	})
	.replace(/([бвгджзклмнпрстфхцчшщийьďľńŕśťź])х/g, '$1ch')
	.replace(/ый/g, 'ŷ')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','je','jo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','','y','ì','e','ju','ja']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
'Р 8.3 (без ъ и щ)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['je','jo','ju','ja']['еёюя'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	.replace(/([жчш]ь)([иеёюя])/g, (found,p1,p2) => p1+'j'+'ieoua'['иеёюя'.indexOf(p2)])
	.replace(/([жчш])([ёюяь])/g, (found,p1,p2,offset,s) => p1+['o','u','a','']['ёюяь'.indexOf(p2)])
	.replace(/([ш])([еи])/g, (found,p1,p2,offset,s) => p1+'ěy'['еи'.indexOf(p2)])
	.replace(/([щ])([еёуаиь])/g, (found,p1,p2,offset,s) => 'š'+['e','ō','ū','ā','i','ì']['еёуаиь'.indexOf(p2)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','šì','ĵ','y','ì','ě','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
	//\u0027
},
'Р 8.4 (жчшщь-ёюяь)': function(text) {
	return text
	.replace(/([еёюяэоуаиыъь])([еёюя])/g, (found,p1,p2) => (p1=='ъ'?'':p1)+['je','jo','ju','ja']['еёюя'.indexOf(p2)])
	.replace(/^([еёюяэ])/g, (found,p1) => ['je','jo','ju','ja','e']['еёюяэ'.indexOf(p1)])
	.replace(/([бвгджзклмнпрстфхцчшщийь])х/g, '$1ch')
	// после букв "ж ч ш щ" не пишутся "ь ё ю я". Можно закомментировать эту строку
	.replace(/([жчшщ])(ь)?([иеёюя])?/g, (found,p1,p2,p3) => p1+(p2=='ь'&&p3?'j':'')+(p3?'ieoua'['иеёюя'.indexOf(p3)]:''))
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ìo','ž','z','i','j','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ħ','ĵ','y','ì','ě','ìu','ìa']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
	//\u0027
},
'Р 8.5 (жчшщь-ёюяь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['ye','yo','yu','ya','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['ye','yo','yu','ya']['еёюя'.indexOf(p1)])
	.replace(/([жчшщ])(ь)?([иеёюя])?/g, (found,p1,p2,p3) => p1+(p2=='ь'&&p3?'y':'')+(p3?'ieoua'['иеёюя'.indexOf(p3)]:''))
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','ź','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ć','ś','ŝ','ĵ','î','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.5а (жчшщь-ёюяь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['ye','yo','yu','ya','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['ye','yo','yu','ya']['еёюя'.indexOf(p1)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ë','ź','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ć','ś','ŝ','ĵ','î','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.5б (жчшщь-ёюяь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['ye','yo','yu','ya','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['ye','yo','yu','ya']['еёюя'.indexOf(p1)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ë','ź','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ć','ś','ŝ','ĵ','î','ĩ','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.5в (жчшщь-ёюяь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['ye','yo','yu','ya','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['ye','yo','yu','ya']['еёюя'.indexOf(p1)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ë','ģ','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ç','ş','ŝ','ĵ','î','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.5г (жчшщь-ёюяь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['ye','yo','yu','ya','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['ye','yo','yu','ya']['еёюя'.indexOf(p1)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ë','ģ','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ç','ş','ŝ','ĵ','ŷ','î','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.5д (жчшщь-ёюяь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['ye','yo','yu','ya','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['ye','yo','yu','ya']['еёюя'.indexOf(p1)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ë','ź','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ć','ś','ŝ','ĵ','ŷ','î','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.5е (жчшщь-ёюяь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['ye','yo','yu','ya','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['ye','yo','yu','ya']['еёюя'.indexOf(p1)])
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ë','ž','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','č','š','ś','ĵ','ŷ','î','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 8.6 (жчшщь-ёюяь)': function(text) {
	return text
	.replace(/^([еёюяэ])/g, (found,p1) => ['ye','yo','yu','ya','e']['еёюяэ'.indexOf(p1)])
	.replace(/ъ([еёюя])/g, (found,p1) => ['ye','yo','yu','ya']['еёюя'.indexOf(p1)])
	.replace(/([жчшщ])(ь)?([иеёюя])?/g, (found,p1,p2,p3) => p1+(p2=='ь'&&p3?'y':'')+(p3?'ieoua'['иеёюя'.indexOf(p3)]:''))
	.replace(/[а-яё]/g, (found) => ['a','b','v','g','d','e','ō','j','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','q','c','x','w','ĵ','î','ì','ê','ū','ā']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)]);
},
'Р 9 (й-y, ы-ǔ, х-x, щ-ħ)': function(text) {
	return text
	.replace(/([еёюяэоуаиы])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/([бвгдзклмнпрстфхжцчшщйь])([еёюяэ])/g, function(found,p1,p2,offset,s) {
		return p1+'eōūāě'['еёюяэ'.indexOf(p2)];
	})
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['a','b','v','g','d','ye','yo','ğ','z','i','y','k','l','m','n','o','p','r','s','t','u','f','x','c','ç','ş','ħ','','ǔ','è','e','yu','ya']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
},
"Усовершенствованная польская": function(text) {
  return text
  .replace(/л?[ль][иеёюя]/g,function(found,offset,s){return ["lji","lje","ljo","lju","lja","lli","lle","llo","llu","lla","li","le","lo","lu","la","ji","je","jo","ju","ja"][["льи","лье","льё","лью","лья","лли","лле","ллё","ллю","лля","ли","ле","лё","лю","ля","ьи","ье","ьё","ью","ья"].indexOf(found)]})
  .replace(/[бвдзлмнпрстф]ь/g,function(found,offset,s){return ["bẃ","ẃ","dź","ź","l","ḿ","ń","ṕ","ŕ","ś","ć","ff"]["бьвьдьзьльмьньпьрьсьтьфь".indexOf(found)/2]})
  .replace(/([бвгдзклмнпрстфх])(ио|иу|иа|е|ё|ю|я)/g,function(found,p1,p2,offset,s){return p1+["ïo","ïu","ïa","e","io","iu","ia"][["ио","иу","иа","е","ё","ю","я"].indexOf(p2)]})
  .replace(/([йжцчшщ])([еёюя])/g,function(found,p1,p2,offset,s){return p1+"eoua"["еёюя".indexOf(p2)]})
  .replace(/[а-яё]/g,function(found,offset,s){return ["a","b","w","g","d","je","jo","ż","z","i","j","k","ł","m","n","o","p","r","s","t","u","f","ch","c","cz","sz","szcz","","y","","e","ju","ja"]["абвгдеёжзийклмнопрстуфхцчшщъыьэюя".indexOf(found)]});
},
"Облегчённая чешская": function(text) {
  return text
  .replace(/ь[иеёюя]/g,function(found,offset,s){return "jijejojuja".substr("ьиьеьёьюья".indexOf(found),2)})
  .replace(/[бвдзлмнпрстф]ь/g,function(found,offset,s){return ["bj","vj","ď","ź","ĺ","ḿ","ń","ṕ","ŕ","ś","ť","fj"]["бьвьдьзьльмьньпьрьсьтьфь".indexOf(found)/2]})
  .replace(/([бвгдзклмнпрстфх])(ио|иу|иа|е|ё|ю|я)/g,function(found,p1,p2,offset,s){return p1+["ïo","ïu","ïa","e","io","iu","ia"][["ио","иу","иа","е","ё","ю","я"].indexOf(p2)]})
  .replace(/([йжцчшщ])([еёюя])/g,function(found,p1,p2,offset,s){return p1+"eoua"["еёюя".indexOf(p2)]})
  .replace(/[а-яё]/g,function(found,offset,s){return ["a","b","v","g","d","je","jo","ž","z","i","j","k","l","m","n","o","p","r","s","t","u","f","ch","c","č","š","šč","","y","","e","ju","ja"]["абвгдеёжзийклмнопрстуфхцчшщъыьэюя".indexOf(found)]});
},
"Советская №2": function(text) {
  return text
  .replace(/ь[иеёюя]/g,function(found,offset,s){return "jijejojuja".substr("ьиьеьёьюья".indexOf(found),2)})
  .replace(/([жцчшщ])ь/g,"$1")
  .replace(/([бвгдзклмнпрстфх])([еёюя])/g,function(found,p1,p2,offset,s){return p1+"eöüä"["еёюя".indexOf(p2)]})
  .replace(/([йжцчшщъ])([еёюя])/g,function(found,p1,p2,offset,s){return p1+"eoua"["еёюя".indexOf(p2)]})
  .replace(/[а-яё]/g,function(found,offset,s){return ["a","b","v","g","d","je","jo","ƶ","z","i","j","k","l","m","n","o","p","r","s","t","u","f","x","ç","c","ş","sc","j","y","j","e","ju","ja"]["абвгдеёжзийклмнопрстуфхцчшщъыьэюя".indexOf(found)]});
},
"Кадинский": function(text) {
  return text
  .replace(/е([аоу])/g,function(found,p1,offset,s){return "е"+"äöü"["аоу".indexOf(p1)]})
  .replace(/[ьиы][йиеёюя]/g,function(found,offset,s){return ["ii","ie","io","iu","ia","y","ye","yo","yu","ya","iy","hy","hiy","hye","hyo","hyu","hya"]["ьиьеьёьюьяийиеиёиюияииыйыиыеыёыюыя".indexOf(found)/2]})
  .replace(/([аеёоуыэюя])и/g,"$1y")
  .replace(/([бвгджзклмнпрстфхцчшщ])([еёюяэыи])/g,function(found,p1,p2,offset,s){return p1+["e","eo","eu","ea","he","hi","i"]["еёюяэыи".indexOf(p2)]})
  .replace(/([жцчшщ])ь/g,"$1")
  .replace(/[гкхжчшщ][iey]/g,function(found,offset,s){return ["ghi","ghe","ghy","chi","che","chy","xhi","xhe","xhy","gi","ge","gy","ci","ce","cy","xi","xe","xy","sci","sce","scy"]["гiгeгyкiкeкyхiхeхyжiжeжyчiчeчyшiшeшyщiщeщy".indexOf(found)/2]})
  .replace(/[а-яё]/g,function(found,offset,s){return ["a","b","v","g","d","ie","io","gh","z","i","i","c","l","m","n","o","p","r","s","t","u","f","x","tz","ch","xh","sch","h","i","h","e","iu","ia"]["абвгдеёжзийклмнопрстуфхцчшщъыьэюя".indexOf(found)]});
},
"Морисон": function(text) {
  return text
  .replace(/тз/g,"т’з")
  .replace(/ь[иеёюя]/g,function(found,offset,s){return "yiyeyoyuya".substr("ьиьеьёьюья".indexOf(found),2)})
  .replace(/([аеёиоуыэюя])и/g,"$1yi")
  .replace(/([бвгджзклмнпрстфхцчшщ])(ио|иа|ё|ю|я)/g,function(found,p1,p2,offset,s){return p1+"ïoïaioiuia".substr(["ио","иа","ё","ю","я"].indexOf(p2)*2,2)})
  .replace(/([а-яё])([еэ])/g,function(found,p1,p2,offset,s){return p1+"eë"["еэ".indexOf(p2)]})
  .replace(/[а-яё]/g,function(found,offset,s){return ["a","b","v","g","d","ye","yo","j","z","i","i","k","l","m","n","o","p","r","s","t","ou","f","c","tz","ch","sh","sch","’","u","y","e","yu","ya"]["абвгдеёжзийклмнопрстуфхцчшщъыьэюя".indexOf(found)]});
},
'^ Без букв "е, ё, ю , я, ъ"': function(text) {
	return text
	.replace(/([бвгджзклмнпрстфхцчшщ])([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+'ь'+'эоуа'['еёюя'.indexOf(p2)];
	})
	.replace(/ъ([еёюя])/g, function(found,p1,offset,s) {
		return 'й'+'эоуа'['еёюя'.indexOf(p1)];
	})
	.replace(/([еёюя])/g, function(found,p1,offset,s) {
		return ['йэ','йо','йу','йа']['еёюя'.indexOf(p1)];
	});
},
'Greek/Coptic': function(text) {
	return text
	.replace(/(и)([юя])$/g, (found,p1,p2) => p1+'υα'['юя'.indexOf(p2)])
	.replace(/(ъ)([еёюя])/g, function(found,p1,p2,offset,s) {
		return p1+['ιε','ιο','ιυ','ια']['еёюя'.indexOf(p2)];
	})
	/*
	.replace(/([ъь])([оуаыиэ])/g, function(found,p1,p2,offset,s) {
		return p1+'\''+'ουαηίἐ'['оуаыиэ'.indexOf(p2)];
	})
	*/
	.replace(/ь([ие])/g, 'ίι$1')
	.replace(/([ъь])([оуаыиэ])/g, function(found,p1,p2,offset,s) {
		return ['\'','ίι']['ъь'.indexOf(p1)]+'ουαηίἐ'['оуаыиэ'.indexOf(p2)];
	})
	.replace(/ь$/g, 'ε')
	.replace(/[а-яё]/g, function(found,offset,s) {
		return ['α','ϭ','β','γ','δ','ε','ό','ϧ','ζ','ί','ι','κ','λ','μ','ν','ο','π','ρ','σ','τ','υ','φ','χ','ϙ','ϥ','ϣ','ϸ','','η','ί','ἐ','ύ','ά']['абвгдеёжзийклмнопрстуфхцчшщъыьэюя'.indexOf(found)];
	});
}
};

function getTranslitWord(text) {}

function singleUpper(a, i, s) {
	var wb = getTranslitWord(a.toLowerCase());
	if(wb.length > 1) {
		for(var pi = i - 1; pi >= 0; pi--)
			if(/[а-яё]/i.test(s.charAt(pi)))
				break;
		for(var ni = i + 1; ni < s.length; ni++)
			if(/[а-яё]/i.test(s.charAt(ni)))
				break;
		for(var nif = ni + 1; nif < s.length; nif++)
			if(!/[а-яё]/i.test(s.charAt(nif)))
				break;
		var prevWordLastLetter = s.charAt(pi);
		var prevSpace = s.substring(pi + 1, i);
		var nextSpace = s.substring(i + 1, ni);
		var nextWord = s.substring(ni, nif);
		if( (/[А-ЯЁ]/.test(prevWordLastLetter) && !/[.…!?]/.test(prevSpace)) ||
				(nextWord && !/[а-яё]/.test(nextWord) && !/[.…!?]/.test(nextSpace)) )
			return wb.toUpperCase();
		return wb.charAt(0).toUpperCase() + wb.substring(1);
	}
	else {
		return wb.toUpperCase();
	}
}

function getTranslit(text) {
	return text.replace(/[А-ЯЁа-яё]+/g, function(a, i, s) {
		if(!/[А-ЯЁ]/.test(a))
			return getTranslitWord(a);
		if(!/[а-яё]/.test(a))
			return a.length == 1 ? singleUpper(a, i, s)
				: getTranslitWord(a.toLowerCase()).toUpperCase();
		return a.match(/([А-ЯЁ]?[а-яё]+)|([А-ЯЁ]+)/g).reduce(function(p, c) {
			if(!/[а-яё]/.test(c) && c.length > 1)
				return p + getTranslitWord(c.toLowerCase()).toUpperCase();
			var wb = getTranslitWord(c.toLowerCase());
			if(/[А-ЯЁ]/.test(c.charAt(0))) {
				var arr = wb.split('');
				for(var i = 0; i < arr.length; i++) {
					var upper = arr[i].toUpperCase();
					if(arr[i] != upper) {
						arr[i] = upper;
						break;
					}
				}
				wb = arr.join('');
			}
			return p + wb;
		}, '');
	});
}

function translit() {
	outtext.innerText = getTranslit(intext.value);
}

var initPageText = `Съешь же ещё этих мягких французских булок, да выпей чаю.

а б в г д е ё ж з и й к л м н о п р с т у ф х ц ч ш щ ъ ы ь э ю я

есть это мэр лей лейка

Вьетнам бельё вьюга альянс

подъезд объём изъян адъютант

чье чьё чьи чья чью

третьи третье медальон использовать

исходный ольха

ещё лучших хочешь веснушчатость

сзади сцена

такси джокер таймер`;
	
var timeoutID;
function initpage() {
	translitWordMap.forEach(function(e) {
		translitWord[e[0]] = translitWord[e[1]];
		
		var elm = document.createElement('span');
		elm.innerHTML = '<br>'+e[0] +': "'+ e[1].replace(/ [(].+/g,'')+'"';	
		document.body.appendChild(elm);
	});
	getTranslitWord = Object.values(translitWord)[0];
	
	for(let key in translitWord)
		options.appendChild(new Option(key,key));
	intext.focus();
	
	var alphabet = 'абвгдеёжзийклмнопрстуфхцчшщъыьэюя';
	for(let opt of options) {
		let optionValue = opt.value;
		opt.setAttribute('title', alphabet.split('').map(function(letter) {
			return translitWord[optionValue](letter).toUpperCase();
		}).join(' '));
	}
	
	intext.oninput = function(event) {
		clearTimeout(timeoutID);
		
		var type = event.inputType;
		/*
		if(type == 'insertLineBreak') {
			return;
		}
		else */
		if(type == 'insertFromPaste' || type == 'deleteByCut' ||
				(type == 'insertText' && event.data == ' ')) {
			translit();
		}
		else if(type == 'deleteContentBackward' || type == 'deleteContentForward') {
			timeoutID = window.setTimeout(translit, 100);
		} 
		else {
			timeoutID = window.setTimeout(translit, 500);
		}
	};
	
	options.onchange = function(value) {
		var selected = options.options[options.options.selectedIndex].value;
		getTranslitWord = translitWord[selected];
		translit();
	};

	intext.spellcheck = false;
	spellchecking.onchange = function(value) {
		intext.spellcheck = !intext.spellcheck;
	};

	intext.value = initPageText;
	translit();
}

function keyup(event) {
	if(event.keyCode == 13 && event.ctrlKey)
		translit();
}

function clearAll() {
	intext.value = '';
	outtext.textContent = '';
}

function doCopyText() {
	var temp = document.createElement('textarea');
	temp.id = 'temp_element';
	document.body.appendChild(temp);
	temp.value = outtext.innerText;
	var selector = document.querySelector('#temp_element');
	selector.select();
	document.execCommand('copy');
	document.body.removeChild(temp);
}

// https://github.com/nijikokun/Diacritics.js
// U+043B removed
(function (name, definition) {
	window[name] = definition();
})('Diacritics', function () {
  var output = {
    map: {}
  };

  var reference = [
    {'base':' ',    'letters':'\u00A0'},
    {'base':'A',    'letters':'\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F'},
    {'base':'AA',   'letters':'\uA732'},
    {'base':'AE',   'letters':'\u00C6\u01FC\u01E2'},
    {'base':'AO',   'letters':'\uA734'},
    {'base':'AU',   'letters':'\uA736'},
    {'base':'AV',   'letters':'\uA738\uA73A'},
    {'base':'AY',   'letters':'\uA73C'},
    {'base':'B',    'letters':'\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181'},
    {'base':'C',    'letters':'\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E'},
    {'base':'D',    'letters':'\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779'},
    {'base':'DZ',   'letters':'\u01F1\u01C4'},
    {'base':'Dz',   'letters':'\u01F2\u01C5'},
    {'base':'E',    'letters':'\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E'},
    {'base':'F',    'letters':'\u0046\u24BB\uFF26\u1E1E\u0191\uA77B'},
    {'base':'G',    'letters':'\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E'},
    {'base':'H',    'letters':'\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D'},
    {'base':'I',    'letters':'\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197'},
    {'base':'J',    'letters':'\u004A\u24BF\uFF2A\u0134\u0248'},
    {'base':'K',    'letters':'\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2'},
    {'base':'L',    'letters':'\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780'},
    {'base':'LJ',   'letters':'\u01C7'},
    {'base':'Lj',   'letters':'\u01C8'},
    {'base':'M',    'letters':'\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C'},
    {'base':'N',    'letters':'\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4'},
    {'base':'NJ',   'letters':'\u01CA'},
    {'base':'Nj',   'letters':'\u01CB'},
    {'base':'O',    'letters':'\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C'},
    {'base':'OI',   'letters':'\u01A2'},
    {'base':'OO',   'letters':'\uA74E'},
    {'base':'OU',   'letters':'\u0222'},
    {'base':'P',    'letters':'\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754'},
    {'base':'Q',    'letters':'\u0051\u24C6\uFF31\uA756\uA758\u024A'},
    {'base':'R',    'letters':'\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782'},
    {'base':'S',    'letters':'\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784'},
    {'base':'T',    'letters':'\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786'},
    {'base':'Th',   'letters':'\u00DE'},
    {'base':'TZ',   'letters':'\uA728'},
    {'base':'U',    'letters':'\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244'},
    {'base':'V',    'letters':'\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245'},
    {'base':'VY',   'letters':'\uA760'},
    {'base':'W',    'letters':'\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72'},
    {'base':'X',    'letters':'\u0058\u24CD\uFF38\u1E8A\u1E8C'},
    {'base':'Y',    'letters':'\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE'},
    {'base':'Z',    'letters':'\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762'},
    {'base':'a',    'letters':'\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250\u0251'},
    {'base':'aa',   'letters':'\uA733'},
    {'base':'ae',   'letters':'\u00E6\u01FD\u01E3'},
    {'base':'ao',   'letters':'\uA735'},
    {'base':'au',   'letters':'\uA737'},
    {'base':'av',   'letters':'\uA739\uA73B'},
    {'base':'ay',   'letters':'\uA73D'},
    {'base':'b',    'letters':'\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253'},
    {'base':'c',    'letters':'\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184'},
    {'base':'d',    'letters':'\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A'},
    {'base':'dz',   'letters':'\u01F3\u01C6'},
    {'base':'e',    'letters':'\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD'},
    {'base':'f',    'letters':'\u0066\u24D5\uFF46\u1E1F\u0192\uA77C'},
    {'base':'ff',   'letters':'\uFB00'},
    {'base':'fi',   'letters':'\uFB01'},
    {'base':'fl',   'letters':'\uFB02'},
    {'base':'ffi',  'letters':'\uFB03'},
    {'base':'ffl',  'letters':'\uFB04'},
    {'base':'g',    'letters':'\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F'},
    {'base':'h',    'letters':'\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265'},
    {'base':'hv',   'letters':'\u0195'},
    {'base':'i',    'letters':'\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131'},
    {'base':'j',    'letters':'\u006A\u24D9\uFF4A\u0135\u01F0\u0249'},
    {'base':'k',    'letters':'\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3'},
    {'base':'l',    'letters':'\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747'},
    {'base':'lj',   'letters':'\u01C9'},
    {'base':'m',    'letters':'\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F'},
    {'base':'n',    'letters':'\x6E\xF1\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u0509'},
    {'base':'nj',   'letters':'\u01CC'},
    {'base':'o',    'letters':'\u07C0\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275'},
    {'base':'oe',   'letters':'\u0152\u0153'},
    {'base':'oi',   'letters':'\u01A3'},
    {'base':'ou',   'letters':'\u0223'},
    {'base':'oo',   'letters':'\uA74F'},
    {'base':'p',    'letters':'\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755'},
    {'base':'q',    'letters':'\u0071\u24E0\uFF51\u024B\uA757\uA759'},
    {'base':'r',    'letters':'\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783'},
    {'base':'s',    'letters':'\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B'},
    {'base':'ss',   'letters':'\xDF'},
    {'base':'t',    'letters':'\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787'},
    {'base':'th',   'letters':'\u00FE'},
    {'base':'tz',   'letters':'\uA729'},
    {'base':'u',    'letters': '\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289'},
    {'base':'v',    'letters':'\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C'},
    {'base':'vy',   'letters':'\uA761'},
    {'base':'w',    'letters':'\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73'},
    {'base':'x',    'letters':'\u0078\u24E7\uFF58\u1E8B\u1E8D'},
    {'base':'y',    'letters':'\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF'},
    {'base':'z',    'letters':'\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763'}
  ];

  for (var i = 0, refLength = reference.length; i < refLength; i++){
    var letters = reference[i].letters.split("");

    for (var j = 0, letLength = letters.length; j < letLength; j++){
      output.map[letters[j]] = reference[i].base;
    }
  }

  output.clean = function (input) {
    if (!input || !input.length || input.length < 1) {
      return "";
    }

    var string = "";
    var letters = input.split("");
    var index = 0;
    var length = letters.length;
    var letter;

    for (; index < length; index++) {
      letter = letters[index];
      string += letter in output.map ? output.map[letter] : letter;
    }

    return string;
  };

  return output;
});
</script>
</head>
<body onkeyup="keyup(event)" onload="initpage()">
	<input type="button" title="ctrl + enter" value="Латинизировать" onclick="translit();">
	<select id="options"></select>
	<br />
	<input type="button" value="Очистить" onclick="clearAll();">
	&nbsp;
	<input type="button" title="Прописные" value="A" onclick="outtext.innerText = outtext.innerText.toUpperCase();">
	<input type="button" title="Строчные" value="a" onclick="outtext.innerText = outtext.innerText.toLowerCase();">
	<input type="button" title="Без диакритики" value="Ë→E" onclick="outtext.innerText = outtext.innerText.normalize('NFD').replace(/\p{Diacritic}/gu,'');">
	<input type="button" title="URL-ссылка" value="URL" onclick="outtext.innerText = outtext.innerText.replace(/ +/g,'-').toLowerCase().replace(/[^0-9a-z-\u000a]/g,'').replace(/^-+|-+$/gm,'').replace(/-{2,}/g,'-');">
	<input type="button" title="Латиница в ASCII" value="Latin to ASCII" onclick="outtext.innerText = Diacritics.clean(outtext.innerText);">
	<input type="button" title="Без апострофа" value="'" onclick="outtext.innerText = outtext.innerText.replace(/[\u0027\u2019\u02bc]+/g,'');">
	<input type="button" title="Без ударения" value="´" onclick="outtext.innerText = outtext.innerText.replace(/\u0301+/g,'');">
	<input type="button" title="Без акута" value="´" onclick="outtext.innerText = outtext.innerText.replace(/[\u00b4\u02ca]+/g,'');">
	<input type="button" title="Без грависа" value="`" onclick="outtext.innerText = outtext.innerText.replace(/\u0060+/g,'');">
	<br />
	<label for="spellchecking">Правописание</label>
	<input type="checkbox" id="spellchecking">
	<div id="container">
		<textarea id="intext"></textarea>
		<input id="copytext" type="button" value="Скопировать в буфер" onclick="doCopyText();">
		<div id="outtext"></div>
		<a href="https://github.com/2k1dmg/c2l" id="gitlink" target="_blank" title="2k1dmg/c2l">GitHub</a>
	</div>
</body>
</html>
